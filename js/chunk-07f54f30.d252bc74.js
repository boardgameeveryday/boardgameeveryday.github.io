(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07f54f30"],{"059c":function(e,t,o){},"887d":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return this.$store.state.server?o("div",[o("p",{staticClass:"error"},[e._v(e._s(e.error))]),o("div",[o("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1",value:"Back","unchecked-value":"No back"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("Back")])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"mt-3"},[e._v("\n    Selected:\n    "),o("strong",[e._v(e._s(e.selected))])]),o("b-row",[o("b-col",[e._v("QR :")]),o("b-col",[o("b",[e._v(e._s(e.result))])])],1),e._v("\n  "+e._s(e.test)+"\n  "),o("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.postlogin("001")}}},[e._v("test")]),o("b-modal",{ref:"modal",attrs:{title:"ชำระเงิน"},on:{shown:e.showmodal,hidden:e.hiddenmodal}},[o("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"QR","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.qr,callback:function(t){e.$set(e.item,"qr",t)},expression:"item.qr"}})],1),o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"ระยะเวลา","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.hour,callback:function(t){e.$set(e.item,"hour",t)},expression:"item.hour"}})],1),o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"ค่าบริการ","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.price,callback:function(t){e.$set(e.item,"price",t)},expression:"item.price"}})],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.item.goods8>0,expression:"item.goods8>0"}],attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"สินค้า 8 บาท","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.goods8,callback:function(t){e.$set(e.item,"goods8",t)},expression:"item.goods8"}})],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.item.goods13>0,expression:"item.goods13>0"}],attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"สินค้า 13 บาท","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.goods13,callback:function(t){e.$set(e.item,"goods13",t)},expression:"item.goods13"}})],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.item.goods15>0,expression:"item.goods15>0"}],attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"สินค้า 15 บาท","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.goods15,callback:function(t){e.$set(e.item,"goods15",t)},expression:"item.goods15"}})],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:0!=e.item.goodsother,expression:"item.goodsother!=0"}],attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"สินค้าอื่นๆ (บาท)","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.goodsother,callback:function(t){e.$set(e.item,"goodsother",t)},expression:"item.goodsother"}})],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.item.discount>0,expression:"item.discount>0"}],attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"ลด 10%","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.item.discount,callback:function(t){e.$set(e.item,"discount",t)},expression:"item.discount"}})],1),o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"รวมเป็นเงิน","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",attrs:{id:"name-input",disabled:""},model:{value:e.total,callback:function(t){e.total=t},expression:"total"}})],1),o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"รับเงิน","label-for":"input-sm"}},[o("b-form-input",{ref:"receive",staticClass:"text-right",attrs:{id:"name-input"},model:{value:e.receive,callback:function(t){e.receive=t},expression:"receive"}})],1),o("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm",label:"ทอนเงิน","label-for":"input-sm"}},[o("b-form-input",{staticClass:"text-right",staticStyle:{"background-color":"white",color:"green","font-weight":"bold"},attrs:{id:"name-input",disabled:"",size:"lg"},model:{value:e.change,callback:function(t){e.change=t},expression:"change"}})],1)],1)]),o("qrcode-stream",{on:{decode:e.onDecode,init:e.onInit}})],1):e._e()},a=[],r=o("a34a"),i=o.n(r),l=o("9a3e");function n(e,t,o,s,a,r,i){try{var l=e[r](i),n=l.value}catch(c){return void o(c)}l.done?t(n):Promise.resolve(n).then(s,a)}function c(e){return function(){var t=this,o=arguments;return new Promise((function(s,a){var r=e.apply(t,o);function i(e){n(r,s,a,i,l,"next",e)}function l(e){n(r,s,a,i,l,"throw",e)}i(void 0)}))}}var u={components:{QrcodeStream:l["QrcodeStream"]},data:function(){return{result:"",error:"",test:"",total:"",receive:"",change:"",status:"Back",item:[]}},watch:{receive:{handler:function(e){var t=this.receive-this.total;t>0&&(this.change=t)}}},methods:{timeConvert:function(e){var t=e,o=t/60,s=Math.floor(o),a=60*(o-s),r=Math.round(a);return s+" ชั่วโมง "+r+" นาที"},onDecode:function(e){""!=e&&(this.result=e,this.postlogin(e))},showmodal:function(){this.$refs.receive.$el.focus()},hiddenmodal:function(){this.$parent.showAlert("finish","success"),this.back()},postlogin:function(e){var t=this,o=new FormData;o.append("api","login"),o.append("qr",e),axios.post(this.$store.state.api,o).then((function(e){e.data.rows.length>0?(t.$refs.modal.show(),t.total=e.data.rows[0].total,t.item=e.data.rows[0],t.item.hour=t.timeConvert(e.data.rows[0].minute)):(t.$parent.showAlert(e.data.data,"success"),t.back())})).catch((function(e){}))},back:function(){"No back"!=this.status&&this.$router.replace({name:"home"})},onInit:function(){var e=c(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),"NotAllowedError"===e.t0.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===e.t0.name?this.error="ERROR: no camera on this device":"NotSupportedError"===e.t0.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===e.t0.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===e.t0.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===e.t0.name&&(this.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()}},m=u,d=(o("bc93"),o("2877")),b=Object(d["a"])(m,s,a,!1,null,"ebefe276",null);t["default"]=b.exports},bc93:function(e,t,o){"use strict";var s=o("059c"),a=o.n(s);a.a}}]);
//# sourceMappingURL=chunk-07f54f30.d252bc74.js.map